---
title: Add OwnerReference for PVC created from PVC template in statefulset workload
authors:
  - "@zhangxiaoyu-zidif"
  - "@resouer"
owning-sig: sig-apps
participating-sigs:
  - sig-apps
reviewers:
  - "@janetkuo"
  - "@msau42"
approvers:
  - TBD
editor: TBD
creation-date: 2019-04-17
last-updated: 2019-04-17
status: provisional
see-also:
  - n/a
replaces:
  - n/a
superseded-by:
  - n/a
---

# Add OwnerReference for PVC created from PVC template in statefulset workload

## Table of Contents

* [Table of Contents](#table-of-contents)
* [Summary](#summary)
* [Motivation](#motivation)
    * [Goals](#goals)
    * [Non-Goals](#non-goals)
* [Proposal](#proposal)
    * [User Stories [optional]](#user-stories-optional)
      * [Story 1](#story-1)
    * [Implementation Details/Notes/Constraints [optional]](#implementation-detailsnotesconstraints-optional)
    * [Risks and Mitigations](#risks-and-mitigations)
* [Graduation Criteria](#graduation-criteria)
* [Implementation History](#implementation-history)
* [Drawbacks [optional]](#drawbacks-optional)
* [Alternatives [optional]](#alternatives-optional)

[Tools for generating]: https://github.com/ekalinin/github-markdown-toc

## Summary

The purpose of this enhancement is to implement that adding OwnerReference for PVC created from PVC template in statefulset workload.
## Motivation

Consider the following scenarios:
 When delete the statefulset, PVCs auto generated by PVC template defined will not be removed. Kubernetes user need to manually remove these PVCs. If we inject statetulset's replica(Pod) information into PVC's OwnerReference, when decrease statefulset's replicas, its mounted PVC will be cascadedly deleted.

[#55045](https://github.com/kubernetes/kubernetes/issues/55045)

### Goals

* PVC will has its OwnerReference which comes from Statefulset's pod. When Statefulset's pod is deleted, its mounted PVC will be deleted cascadedly.

### Non-Goals


## Proposal

### User Stories

#### Story 1


### Implementation Details

#### API Changes


#### Implementation


### Risks and Mitigations


### Upgrades/Downgrades

### Tests

## Graduation Criteria


## Implementation History


## Drawbacks [optional]

Why should this KEP _not_ be implemented.

## Alternatives


